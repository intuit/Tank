<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<script xmlns="urn:wats/domain/script/v1">
    <id>0</id>
    <name>Sample Tank Script</name>
    <creator>integration-test</creator>
    <productName>Tank Integration Test</productName>
    <comments>Sample Tank script for integration testing</comments>
    <runtime>0</runtime>
    <steps>
        <step>
            <uuid>step-1-uuid</uuid>
            <type>request</type>
            <method>GET</method>
            <url>https://api.example.com/health</url>
            <label>Health Check</label>
            <stepIndex>0</stepIndex>
            <protocol>https</protocol>
            <hostname>api.example.com</hostname>
            <simplePath>/health</simplePath>
            <requestheaders>
                <requestHeaders>
                    <key>Accept</key>
                    <value>application/json</value>
                </requestHeaders>
                <requestHeaders>
                    <key>User-Agent</key>
                    <value>Tank-Integration-Test/1.0</value>
                </requestHeaders>
            </requestheaders>
            <responseData>
                <responseData>
                    <key>httpCode</key>
                    <value>200</value>
                </responseData>
            </responseData>
        </step>
        <step>
            <uuid>step-2-uuid</uuid>
            <type>sleep</type>
            <stepIndex>1</stepIndex>
            <data>
                <data>
                    <key>sleepTime</key>
                    <value>1000</value>
                </data>
            </data>
        </step>
        <step>
            <uuid>step-3-uuid</uuid>
            <type>request</type>
            <method>POST</method>
            <url>https://api.example.com/auth/login</url>
            <label>Login Request</label>
            <stepIndex>2</stepIndex>
            <protocol>https</protocol>
            <hostname>api.example.com</hostname>
            <simplePath>/auth/login</simplePath>
            <requestheaders>
                <requestHeaders>
                    <key>Accept</key>
                    <value>application/json</value>
                </requestHeaders>
                <requestHeaders>
                    <key>Content-Type</key>
                    <value>application/json</value>
                </requestHeaders>
                <requestHeaders>
                    <key>User-Agent</key>
                    <value>Tank-Integration-Test/1.0</value>
                </requestHeaders>
            </requestheaders>
            <requestBody>{"username":"testuser","password":"testpass"}</requestBody>
            <responseData>
                <responseData>
                    <key>httpCode</key>
                    <value>200</value>
                </responseData>
            </responseData>
        </step>
        <step>
            <uuid>step-4-uuid</uuid>
            <type>variable</type>
            <stepIndex>3</stepIndex>
            <data>
                <data>
                    <key>name</key>
                    <value>authToken</value>
                </data>
                <data>
                    <key>value</key>
                    <value>${response.token}</value>
                </data>
            </data>
        </step>
        <step>
            <uuid>step-5-uuid</uuid>
            <type>request</type>
            <method>GET</method>
            <url>https://api.example.com/user/profile</url>
            <label>Get User Profile</label>
            <stepIndex>4</stepIndex>
            <protocol>https</protocol>
            <hostname>api.example.com</hostname>
            <simplePath>/user/profile</simplePath>
            <requestheaders>
                <requestHeaders>
                    <key>Accept</key>
                    <value>application/json</value>
                </requestHeaders>
                <requestHeaders>
                    <key>Authorization</key>
                    <value>Bearer ${authToken}</value>
                </requestHeaders>
                <requestHeaders>
                    <key>User-Agent</key>
                    <value>Tank-Integration-Test/1.0</value>
                </requestHeaders>
            </requestheaders>
            <responseData>
                <responseData>
                    <key>httpCode</key>
                    <value>200</value>
                </responseData>
            </responseData>
        </step>
        <step>
            <uuid>step-6-uuid</uuid>
            <type>sleep</type>
            <stepIndex>5</stepIndex>
            <data>
                <data>
                    <key>sleepTime</key>
                    <value>2000</value>
                </data>
            </data>
        </step>
        <step>
            <uuid>step-7-uuid</uuid>
            <type>request</type>
            <method>PUT</method>
            <url>https://api.example.com/user/profile</url>
            <label>Update User Profile</label>
            <stepIndex>6</stepIndex>
            <protocol>https</protocol>
            <hostname>api.example.com</hostname>
            <simplePath>/user/profile</simplePath>
            <requestheaders>
                <requestHeaders>
                    <key>Accept</key>
                    <value>application/json</value>
                </requestHeaders>
                <requestHeaders>
                    <key>Content-Type</key>
                    <value>application/json</value>
                </requestHeaders>
                <requestHeaders>
                    <key>Authorization</key>
                    <value>Bearer ${authToken}</value>
                </requestHeaders>
                <requestHeaders>
                    <key>User-Agent</key>
                    <value>Tank-Integration-Test/1.0</value>
                </requestHeaders>
            </requestheaders>
            <requestBody>{"firstName":"Updated","lastName":"User","email":"updated@example.com"}</requestBody>
            <responseData>
                <responseData>
                    <key>httpCode</key>
                    <value>200</value>
                </responseData>
            </responseData>
        </step>
        <step>
            <uuid>step-8-uuid</uuid>
            <type>request</type>
            <method>POST</method>
            <url>https://api.example.com/auth/logout</url>
            <label>Logout Request</label>
            <stepIndex>7</stepIndex>
            <protocol>https</protocol>
            <hostname>api.example.com</hostname>
            <simplePath>/auth/logout</simplePath>
            <requestheaders>
                <requestHeaders>
                    <key>Accept</key>
                    <value>application/json</value>
                </requestHeaders>
                <requestHeaders>
                    <key>Authorization</key>
                    <value>Bearer ${authToken}</value>
                </requestHeaders>
                <requestHeaders>
                    <key>User-Agent</key>
                    <value>Tank-Integration-Test/1.0</value>
                </requestHeaders>
            </requestheaders>
            <responseData>
                <responseData>
                    <key>httpCode</key>
                    <value>200</value>
                </responseData>
            </responseData>
        </step>
    </steps>
</script>
