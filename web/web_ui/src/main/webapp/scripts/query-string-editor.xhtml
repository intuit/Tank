<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">

  <div class="formRow">
    <p:commandButton value="Query String" action="#{queryStringEditor.insertQueryString()}" ajax="true"
      update=":requestForm:request-editor-tab-panel,:requestForm:request-editor-tab-panel:queryStringTable"
      icon="ui-icon-plus" styleClass="icon-button h-space">
    </p:commandButton>
  </div>
  <div class="clear-both vertical-spacer" />
  <div class="height300 overflow-scroll">

    <p:dataTable value="#{queryStringEditor.queryStrings}" var="tsqueryString" id="queryStringTable"
      styleClass="striped highlight full-width">
      <f:facet name="noData">
                Nothing found
            </f:facet>

      <p:column style="width:200px;">
        <f:facet name="header">
          <h:outputText value="Parameter" />
        </f:facet>
        <p:inplace styleClass="ellipsis" editor="true" style="width: 200px;">
          <p:inputText value="#{tsqueryString.key}" styleClass="ellipsis" style="width: 130px;"/>
        </p:inplace>
      </p:column>

      <p:column style="width:400px;">
        <f:facet name="header">
          <h:outputText value="Value" />
        </f:facet>
        <p:inplace styleClass="ellipsis" editor="true" style="width:400px;">
          <p:inputText value="#{tsqueryString.value}" styleClass="ellipsis" style="width:340px;"/>
        </p:inplace>
      </p:column>

      <p:column style="width:60px;">
        <f:facet name="header">
          <h:outputText value="" />
        </f:facet>
        <p:commandButton action="#{queryStringEditor.removeQueryString(tsqueryString)}" update="@form"
          icon="ui-icon ui-icon-close" title="Delete">
        </p:commandButton>
      </p:column>
    </p:dataTable>
  </div>

  <h:outputStylesheet>
    .value-column {
        width : 30%;
    }
    .header-column {
        width : 50%;
    }
    .operations-column {
        width : 20%;
    }    
  </h:outputStylesheet>
</ui:composition>
